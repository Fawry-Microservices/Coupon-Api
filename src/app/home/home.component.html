<div class="wrapper row full-center">
    <h1>Coupons</h1>
</div>
<p-table [value]="coupons" [paginator]="true" [rows]="pageSize" [lazy]="true" [totalRecords]="totalRecords"
    (onLazyLoad)="onLazyLoad($event)" [loading]="loading">
    <ng-template pTemplate="header">
        <tr>
            <th pSortableColumn="code">Code <p-sortIcon field="code"></p-sortIcon></th>
            <th pSortableColumn="numberOfUsages">Maximum Usages <p-sortIcon field="numberOfUsages"></p-sortIcon></th>
            <th pSortableColumn="availableUsages">Available <p-sortIcon field="availableUsages"></p-sortIcon>
            </th>
            <th pSortableColumn="type">Type <p-sortIcon field="type"></p-sortIcon></th>

            <th pSortableColumn="expiryDate">Expiry Date <p-sortIcon field="expiryDate"></p-sortIcon></th>
            <th pSortableColumn="active">Active <p-sortIcon field="active"></p-sortIcon></th>
        </tr>
    </ng-template>

    <ng-template pTemplate="body" let-coupon>
        <tr>
            <td>{{ coupon.code }}</td>
            <td>{{ coupon.numberOfUsages }}</td>
            <td>{{ coupon.availableUsages }}</td>
            <td>{{ coupon.type }}</td>
            <td>{{ coupon.expiryDate }}</td>
            <td>{{ coupon.active }}</td>
            <td>
                <p-button icon="pi pi-times" [rounded]="true" [text]="true" [raised]="true" severity="danger"
                    (click)="onSubmitToDelete(coupon.id)">X</p-button>
            </td>
        </tr>
    </ng-template>
</p-table>